Universidade Federal da Fronteira Sul – UFFS 
Curso: Ciência da Computação
Componente Curricular: Banco de Dados II
Professor: Dr. Denio Duarte
Alunos: Natan J. Mai, Ricardo Zanuzzo, Rogerio T. Schmidt
=============================================================================================================================================
Introdução:

Nesta atividade, cada equipe terá que implementar na biblioteca do SGBD a inclusão de chave primária (PK) e chave estrangeira (FK) na criação das tabelas. As FK devem ser criticadas caso a tabela/atributo de origem ainda não existam.
	
A definição de chave primária ou chave estrangeira de um atributo é representado por um "flag" que é passado por parametro na criação da tabela e também junto com o valor a ser inserido.

- NPK (Sem chave);
- PK (Chave primária);
- FK (Chave estrangeira)

Da criação das tabelas:
	iniciaTabela("nomeTabela");
	adicionaCampo(tab, "nomeAtrib" , 'I', (sizeof(int))	,PK);
	adicionaCampo(tab, "nomeAtrib" , 'I', (sizeof(int))	,NPK);
	adicionaCampo(tab, "nomeAtrib" , 'S', 10			,NPK);
	adicionaCampo(tab, "nomeAtrib" , 'D', (sizeof(double))	,NPK);
	finalizaTabela(tab);

-> foi adicionado apenas mais um parâmetro, que é passado para a função adicionaCampo. Trata-se do "flag" que indica o tipo de atributo.
 

Da inserção de Tuplas:
	insereValor(colunas, "nomeAtrib", "10"	, "nomeTabela", PK, "", "");						//somente com PK
	insereValor(colunas, "nomeAtrib", "11"	, "nomeTabela", NPK, "", "");						//sem PK nem FK
	insereValor(colunas, "nomeAtrib", "11"	, "nomeTabela", FK, "nomeTabelaReferenciada", "nomeAtributoReferenciado");	//com PK e FK

-> Variável colunas do tipo column,
-> Nome do atributo "nomeAtrib" a ser adicionado o valor,
-> Valor adicionado,
-> Nome da Tabela,
-> Flag do tipo da chave ("flag"),
-> Tabela referenciada em caso de FK,
    Caso a chave não seja FK, deve se deixar o valor vazio ""
-> Atributo referenciado em caso de FK.
    Caso a chave não seja FK, deve se deixar o valor vazio ""


Dos retornos - Tratamento de PK e FK:
	ERRO_CHAVE_PRIMARIA -> -14
	ERRO_CHAVE_ESTRANGEIRA -> -15
	ERRO_CRIACAO_TABELA -> -16

Estes podem ser tratados na main.


É possível adicionar apenas UM atributo como chave PK, ou seja, não é tratada a forma de chave composta.


Foi alterado a struct column para podermos trabalhar com as chaves.


Foi também criado as seguintes funções:
-> IniciaAtributos,
-> ExisteAtributo,
-> VerificaChavePK,
-> VerificaChaveFK.


Juntamente com os arquivos do trabalho, foi criado também o "exemploMain.c". Trata-se de um modelo (exemplo) de uma maneira
de criar a main(). Nessa exemplo de main() é necessário se atentar ao seguinte:
-int nrTabelas;	->deve ser setado para a quantidades de tabelas a ser criadas;

-   nTabela[0]  = existeArquivo("tabela1.dat"); -> deve ser colocado aqui os nomes das tabelas
    nTabela[1]  = existeArquivo("tabela2.dat");
    nTabela[2]  = existeArquivo("tabela3.dat");

- ao final, foi chamado a função imprime("tabela1") que realiza a impressão das tabelas.



Da compilação:

	$ gcc *.c -o prog -Wall
	$ ./prog

